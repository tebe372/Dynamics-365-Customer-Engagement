Recalculates the hierarchy represented by the input forecast. If `IsRefreshHierarchy` is `true`, updates the forecast hierarchy according to current user hierarchy before starting recalculation.