Recalculates the hierarchy represented by the input forecast. If `IsRefreshHierarchy` is `true`, the forecast hierarchy is updated according to current user hierarchy before starting recalculation.